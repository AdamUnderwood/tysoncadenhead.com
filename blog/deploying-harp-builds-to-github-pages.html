<!DOCTYPE html>
<!--[if IE 6]>
    <html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
    <html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
    <html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
    <html lang="en-US">
<!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="AeV4w7EOhEv3lU1OT8KOM7jRS0C6jDAsZyMaG38t1g4" />
        <meta property="og:image" content="http://www.tysoncadenhead.com/images/blog/deploying-harp-builds-to-github-pages.jpg"/>
        <meta property="og:title" content="Deploying Harp.js Builds To Github Pages"/>
        <meta property="og:url" content="http://www.tysoncadenhead.com"/>
        <meta property="og:site_name" content="Tyson Cadenhead"/>
        <meta property="og:description" content="Thoughts on productivity, web apps and JavaScript" />
        <title>Deploying Harp.js Builds To Github Pages</title>
        <link rel="shortcut icon" href="/images/favicon.ico" /> 
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="alternate" type="application/rss+xml" title="Deploying Harp.js Builds To Github Pages Thoughts on productivity, web apps and JavaScript" href="http://www.tysoncadenhead.com/feed.xml" />
    </head>
    <body>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-19696495-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        <div id="fb-root"></div>
        <div class="header" id="top">
            <div class="container">
                <div class="span12">
                    <div class="span4 left">
                        <h1 id="logo"><a href="/"><img src="/images/logo.png" /></a></h1>
                    </div>
                    <div class="span6 right">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner right">
                                <ul class="nav right">
                                  <li><a href="/">Blog</a></li>
                                  <li><a href="/presentations">Presentations</a></li>
                                  <li><a href="/about">About Me</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="span12">
                
                    
                    
                        
                        <article>

    <div class="well span2 right thumbnail">
      <img src="/images/blog/deploying-harp-builds-to-github-pages.jpg" />
    </div>

    <h1>Deploying Harp.js Builds To Github Pages</h1>

    

    <h5><span class="label label-info"><a href="/?category=code">code</a></span> | 3-25-2014</h5>

    <p>About a month ago, I switched from running my blog using Poet.js on Nodejitsu to using Harp.js to compile it as a static site. There are several benefits to taking this approach. First of all, I can host the site using any server environment. When I build it, all that I have are HTML, CSS and JavaScript files and they can be hosted with Node, Apache, IIS or any other server. Another benefit is that there are several places where I can host my blog for free.</p>
<p>I ended up choosing to go with Github pages because this is a web development blog and I thought it was well-suited for their platform. This is how I got it working.</p>
<!-- more -->

<p>First of all, it should be noted, that Github pages have to be served from the root of your project. For example, your domainname.com would serve up <code>./index.html</code>. So, to begin with, I put all of my templates, css, javascript and markdown files in a subfolder named &quot;_harp&quot;.</p>
<h3>Serving Harp Locally</h3>
<p>Next, I opened my <code>.profile</code> file in the terminal and created an alias to start up the server without needing to manually navigate into the _harp directory:</p>
<pre><code class="language-bash">alias tyson_run=&#39;cd ~/Sites/apps/tysoncadenhead.com; harp server;&#39;;</code></pre>
<p>With that done, I just needed to call <code>tyson_run</code> and a server would be spawned at port :9000 with my blog. I know this part isn&#39;t really related to serving the site on Github Pages, but it is important to have a local testing environment.</p>
<h3>Setting Up Github Pages</h3>
<p>Github has a ton of documentation about <a href="http://pages.github.com/">how to set up and run Github pages</a>, so I won&#39;t attempt to rewrite what&#39;s already been written.</p>
<p>I will say that you need to remember to create a branch in your repository called <code>gh-pages</code> to push your blog to. Github will be looking for that branch to serve from.</p>
<h3>Building and Deploying</h3>
<p>I found myself repeating several steps every time I wanted to deploy my blog. First of all, I noticed that when I compiled my code, the static assets such as images, javascript files and the CNAME file, which is important for telling Github to use a custom domain were all missing. It was easy enough to copy them up a directory in the terminal, but it was needlessly tedious.</p>
<p>I also found that with me being the only person with push access to my repo, I was never going to need to manage merge conflicts, so adding the files, committing them and pushing was needlessly verbose.</p>
<p>Because of all that, I ended up writing a function in my <code>.profile</code> file that compiles harp, copies the static assets that harp misses, adds the files to the git branch, commits the files with whatever message I pass in as an argument and pushes the code.</p>
<pre><code class="language-bash">function tyson_deploy () {
        cd ~/Sites/apps/tysoncadenhead.com;
        harp compile _harp ./;
        cp -r _harp/images images;
        cp -r _harp/js js;
        cp _harp/CNAME CNAME;
        git add .;
        git add -u;
        git commit -m &quot;$1&quot;;
        git push origin gh-pages;
}</code></pre>
<p>Now, I just need to run <code>tyson_deploy</code> and my code is pushed to the gh-pages branch. Any code in that branch is automatically served by Github, which means that after I push, my code is deployed.</p>
<p>I have been really happy with harp as a solution. There are a few features I&#39;d love to see integrated, such as static paging but in the meantime, it works really well for my needs.</p>
<p>Now, excuse me while I type &quot;tyson_deploy&quot; into my terminal...</p>


    <h5>Tags: 
    
        <span class="label">
            <a href="/?tag=html">html</a>
        </span>
    
        <span class="label">
            <a href="/?tag=node">node</a>
        </span>
    
        <span class="label">
            <a href="/?tag=terminal">terminal</a>
        </span>
    
    </h5>

    <br />

    <div class="google-things">

        <style>
        .responsive-unit { width: 320px; height: 50px; }
        @media(min-width: 500px) { .responsive-unit { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .responsive-unit { width: 728px; height: 90px; } }
        </style>
        <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Responsive unit -->
        <ins class="adsbygoogle responsive-unit"
             style="display:inline-block"
             data-ad-client="ca-pub-5130799763611680"
             data-ad-slot="1789954798"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

    </div>

    <br />

    <!--
    <h4>Related Posts:</h4>
    <div id="related-posts" class="clear">
        <div class="well left thumbnail"></div>
        <div class="well left thumbnail"></div>
        <div class="well left thumbnail"></div>
    </div>
    -->

</article>

<div class="share">
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'tysoncadenhead'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    
                
            </div>
        </div>
        <script data-main="/js/app.js" src="/js/vendor/require.js"></script>
        <div class="footer">
                <div class="container">
                    <div class="addthis_default_style span12 addthis_32x32_style">
                        <a class="addthis_button_facebook_follow" addthis:userid="tysoncadenhead"></a>
                        <a class="addthis_button_twitter_follow" addthis:userid="tysoncadenhead"></a>
                        <a class="addthis_button_linkedin_follow" addthis:userid="tysoncadenhead"></a>
                        <a class="addthis_button_google_follow" addthis:userid="tysoncadenhead"></a>
                        <a class="addthis_button_youtube_follow" addthis:userid="tysoncadenhead"></a>
                        <a class="addthis_button_flickr_follow" addthis:userid="tysonlloydcadenhead"></a>
                        <a class="addthis_button_instagram_follow" addthis:userid="112101485541389007178"></a>
                    </div>
                    <div class="span12" id="twitter-feed">
                        <a class="twitter-timeline" href="https://twitter.com/tysoncadenhead" data-widget-id="377141114454564864">Tweets by @tysoncadenhead</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                        <script type="text/javascript">
                            window.tysonJS = {
                                slug: ''
                            };
                        </script>
                    </div>
                </div>
        </div>
    </body>
</html>